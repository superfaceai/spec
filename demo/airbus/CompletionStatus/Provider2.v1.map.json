{
	"kind": "MapDocument",
	"map": {
		"kind": "Map",
		"profileId": {
			"kind": "ProfileId",
			"profileId": "https://superface.ai/profile/manufacturing/CompletionStatus"
		},
		"provider": {
			"kind": "Provider",
			"providerId": "http://superface.ai/directory/demo/CompletionProvider2"
		}
	},
	"definitions": [
		{
			"kind": "MapDefinition",
			"mapName": "CompletionStatus",
			"usecaseName": "CompletionStatus",
			"variableExpressionsDefinition": [],
			"stepsDefinition": [
				{
					"kind": "StepDefinition",
					"stepName": "",
					"condition": {
						"kind": "JSExpression",
						"expression": "true"
					},
					"variableExpressionsDefinition": [],
					"run": {
						"kind": "NetworkOperationDefinition",
						"definition": {
							"kind": "HTTPOperationDefinition",
							"method": "POST",
							"url": "/progress",
							"variableExpressionsDefinition": [],
							"requestDefinition": {
								"contentType": "application/json",
								"security": "other",
								"headers": [],
								"body": [
									{
										"kind": "MapExpressionsDefinition",
										"left": "serialNumber",
										"right": {
											"kind": "JSExpression",
											"expression": "input.MSN"
										}
									}
								],
								"queryParametersDefinition": []
							},
							"responseDefinition": {
								"statusCode": 200,
								"contentType": "application/json",
								"contentLanguage": "en-US",
								"outcomeDefinition": {
									"kind": "OutcomeDefinition",
									"resultDefinition": [
										{
											"kind": "MapExpressionsDefinition",
											"left": "status",
											"right": {
												"kind": "JSExpression",
												"expression": "body.currentStatus"
											}
										},
										{
											"kind": "MapExpressionsDefinition",
											"left": "estimatedCompletion",
											"right": {
												"kind": "JSExpression",
												"expression": "body.estCompletionDate"
											}
										}
									]
								}
							}
						}
					}
				}
			]
		}
	]
}
"""
Converation

Set of use cases on sending a message in a conversation
""""

"""
Send Message

Sends single message
"""
usecase SendMessage {
  
  input {
    to
    from
    channel: Enum {
      whatsapp
      sms
    }

    text: String
    image: {
      url
      mediaId
      caption
    }
  }

  result {
    messageId
  }

  async result {
    messageId
    deliveryUpdate: Enum {
      accepted
      delivered
      seen
    }
  }
}

model Receiver {
  id: PhoneNumber | Email
}

model Sender {
  id: String
}

model Media {

}

scalar PhoneNumber
scalar Email

'''
Receiver of the message
'''
field to: Receiver

'''
Sender of the message
'''
field from: Sender

'''
Message Id

The id of the message assigned by the channel
'''
field messageId: String
